{% extends 'base.html' %}
{% load bootstrap3 %}
{% load static %}
{% block content %}
<div class="container">
    <h1 class="text-center">Catalog</h1>


    <!-- Advanced Search Modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#changeinfomodal">
        Advanced Search
    </button>

    <div class="modal fade" id="changeinfomodal" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="exampleModalLongTitle" style="float:left;"> Advanced Search </h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float:right;">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form>
                        <div class="form-row">
                            <!-- Make+Model Row-->
                            <div class="row">
                                <!--Make group-->
                                <div class="form-group col-md-3">
                                    <label for="makeid">Make</label>
                                    <input class="form-control" id="makeid" type="text" placeholder="Make">
                                </div>

                                <!--Model group-->
                                <div class="form-group col-md-3">
                                    <label for="modelid">Model</label>
                                    <input class="form-control" id="modelid" type="text" placeholder="Model">
                                </div>

                                <!--Model group-->
                                <div class="form-group col-md-3">
                                    <label for="year">Year</label>
                                    <input class="form-control" id="year" type="text" placeholder="Year">
                                </div>
                            </div>
                            <!--Price group-->
                            <h5 class="bold"><b>Price</b></h5>
                            <div class="divider"></div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="pricelow">Low</label>
                                    <input class="form-control" id="pricelow" type="number" step="1000"
                                           placeholder="Low">
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="pricehigh">High</label>
                                    <input class="form-control" id="pricehigh" type="number" step="1000"
                                           placeholder="High">
                                </div>
                            </div>
                            <!--Mileage group-->
                            <h5 class="bold"><b>Mileage</b></h5>
                            <div class="divider"></div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="milelow">Low</label>
                                    <input class="form-control" id="milelow" type="number" step="1000"
                                           placeholder="Low">
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="milehigh">High</label>
                                    <input class="form-control" id="milehigh" type="number" step="1000"
                                           placeholder="High">
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label class="my-1 mr-2" for="dealership">Dealership</label>
                                    <select class="form-control" id="dealership">
                                        <option selected>Choose...</option>
                                        <option value="1">Mount Pocono Dealership</option>
                                        <option value="2">Bethlehem Dealership</option>
                                        <option value="3">Philadelphia Dealership</option>
                                    </select>
                                </div>


                            </div>
                        </div>


                    </form>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" data-dismiss="modal">Search</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Add Car -->

    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addcar">
        +
    </button>

    <div class="modal fade" id="addcar" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="carlongtitle" style="float:left;"> New Car </h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float:right;">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form method="POST">
                        {% csrf_token %}
                        <div class="form-row">
                            <!-- VIN Row -->
                            <div class="row">
                                <div class="form-group col-md-5">
                                    <label class="my-1 mr-2" for="add_vin">VIN number</label>
                                    <textarea class="form-control" id="add_vin" name="add_vin" rows="1"></textarea>

                                </div>
                            </div>

                            <!-- Make+Model Row-->
                            <div class="row">
                                <!--Make group-->
                                <div class="form-group col-md-5">
                                    <label class="my-1 mr-2" for="dealership">Make And Model</label>
                                    <select class="form-control" id="add_mm" name="add_mm">
                                        <option selected>Choose...</option>

                                        {% for mm in makemodels %}
                                        <option value="{{ mm.mmid }}">{{ mm.make}} {{ mm.model}}</option>
                                        {% endfor %}
                                    </select>

                                </div>

                                <!--Year group-->
                                <div class="form-group col-md-3">
                                    <label for="year">Year</label>
                                    <input class="form-control" id="add_year" name="add_year" type="number"
                                           placeholder="Year">
                                </div>
                            </div>

                            <!--Price group-->
                            <div class="divider"></div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="pricelow">Price</label>
                                    <input class="form-control" id="add_price" name="add_price" type="number"
                                           step="1000"
                                           placeholder="Low">
                                </div>

                                <div class="form-group col-md-3">
                                    <label for="milelow">Mileage</label>
                                    <input class="form-control" id="add_mile" name="add_mile" type="number" step="1000"
                                           placeholder="Low">
                                </div>
                            </div>

                            <!-- Color group   -->
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label class="my-1 mr-2" for="add_color">Color</label>
                                    <select class="form-control" id="add_color" name="add_color">
                                        <option selected>Choose...</option>

                                        {% for c in colors %}
                                        <option value="{{ c.color_id }}">{{ c.color }}</option>
                                        {% endfor %}
                                    </select>
                                </div>

                            </div>
                            <!-- other -->
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label class="my-1 mr-2" for="dealership">Dealership</label>
                                    <select class="form-control" id="add_dealership" name="add_dealership">
                                        <option selected>Choose...</option>

                                        {% for site in dealerships %}
                                        <option value="{{ site.site_id }}">{{ site.site_name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label class="my-1 mr-2" for="dealership">Description</label>

                                    <textarea class="form-control" id="add_description" name="add_description"
                                              rows="3"></textarea>
                                </div>

                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <input type="submit" class="btn btn-primary" value="Submit"/>
                        </div>
                    </form>

                </div>

            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="input-group text-right" style="float:right">
        <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"/>
        <button type="button" class="btn btn-outline-primary">search</button>
        <br>
    </div>


    <!-- Table -->
    <table id="dtOrderExample" class="table table-striped table-bordered table-sm" cellspacing="0"
           width="100%">
        <thead>
        <tr>
            <th class="th-lg">Picture</th>
            <th class="th-sm">Make</th>
            <th class="th-sm">Model</th>
            <th class="th-sm">Year</th>
            <th class="th-sm">Price</th>
            <th class="th-sm">Mileage</th>
            <th class="th-sm">Color</th>
            <th class="th-sm">Dealership</th>
            <th class="th-sm">Description</th>
            <th class="th-sm"></th>
        </tr>
        </thead>
        <tbody>
        {% for c in cars %}
        <tr>
            <td><img alt="no image"></td>
            <td>{{ c.mm_id.make }}</td>
            <td>{{ c.mm_id.model }}</td>
            <td>{{ c.year }}</td>
            <td>{{ c.ticket_price }}</td>
            <td>{{ c.mileage }}</td>
            <td>{{ c.color_id.color }}</td>
            <td>{{ c.site_id.site_name }}</td>
            <td>{{ c.description }}</td>
            <td>
                <div class="text-center vcenter" style="padding-right:10px">
                    <form method="POST">
                        <button type="button" class="btn btn-primary">Buy</button>
                        <button type="button" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-primary">Delete</button>
                    </form>
                </div>
            </td>
        </tr>
        {% endfor %}

        </tfoot>
    </table>


</div>


{% endblock %}